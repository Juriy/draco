!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("draco",[],t):"object"==typeof exports?exports.draco=t():e.draco=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ui=t.dist=t.isTouchDevice=t.Rect=t.MathUtils=t.ImageManager=t.GameScene=t.GameObject=t.EventEmitter=t.Engine=t.DirtyRectangleManager=t.Animator=void 0;var r=n(1),a=o(r),s=n(2),u=o(s),h=n(4),l=o(h),c=n(6),f=o(c),_=n(12),v=o(_),d=n(13),p=o(d),y=n(10),m=o(y),g=n(14),w=o(g),b=n(3),k=o(b),E=n(11),D=n(15),O=i(D);t.Animator=a["default"],t.DirtyRectangleManager=u["default"],t.Engine=l["default"],t.EventEmitter=f["default"],t.GameObject=v["default"],t.GameScene=p["default"],t.ImageManager=m["default"],t.MathUtils=w["default"],t.Rect=k["default"],t.isTouchDevice=E.isTouchDevice,t.dist=E.dist,t.ui=O},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){n(this,e),this._duration=t,this._repeatCount=1,this._acceleration=0,this._deceleration=0,this._loopsDone=0,this._repeatBehavior=e.RepeatBehavior.LOOP,this._timeSinceLoopStart=0,this._started=!1,this._running=!1,this._reverseLoop=!1}return i(e,[{key:"start",value:function(){this._started=!0,this._running=!0}},{key:"isRunning",value:function(){return this._running}},{key:"stop",value:function(){this._loopsDone=0,this._timeSinceLoopStart=0,this._running=!1,this._started=!1}},{key:"pause",value:function(){this._running=!1}},{key:"getDuration",value:function(){return this._duration}},{key:"setDuration",value:function(e){if(this._throwIfStarted(),1>e)throw Error("Duration can't be < 1");this._duration=e}},{key:"getRepeatCount",value:function(){return this._repeatCount}},{key:"setRepeatCount",value:function(t){if(this._throwIfStarted(),1>t&&t!==e.INFINITE)throw Error("Repeat count must be greater than 0 or INFINITE");this._repeatCount=t}},{key:"getRepeatBehavior",value:function(){return this._repeatBehavior}},{key:"setRepeatBehavior",value:function(t){if(this._throwIfStarted(),t!==e.RepeatBehavior.LOOP&&t!==e.RepeatBehavior.REVERSE)throw Error("Repeat behavior should be either RepeatBehavior.LOOP or RepeatBehavior.REVERSE");this._repeatBehavior=t}},{key:"getAcceleration",value:function(){return this._acceleration}},{key:"setAcceleration",value:function(e){if(this._throwIfStarted(),0>e||e>1||e>1-this._deceleration)throw Error("Acceleration value must be from 0 to 1 and cannot be greater than (1 - deceleration)");this._acceleration=e}},{key:"getDeceleration",value:function(){return this._deceleration}},{key:"setDeceleration",value:function(e){if(this._throwIfStarted(),0>e||e>1||e>1-this._acceleration)throw Error("Deceleration value must be from 0 to 1 and cannot be greater than (1 - acceleration)");this._deceleration=e}},{key:"_timingEventPreprocessor",value:function(e){return this._accelerationDecelerationPreprocessor(e)}},{key:"_accelerationDecelerationPreprocessor",value:function(e){if(this._acceleration||this._deceleration){var t=1/(1-this._acceleration/2-this._deceleration/2);if(e<this._acceleration)e*=t*(e/this._acceleration)/2;else if(e>1-this._deceleration){var n=e-(1-this._deceleration),i=n/this._deceleration;e=t*(1-this._acceleration/2-this._deceleration+n*(2-i)/2)}else e=t*(e-this._acceleration/2);0>e?e=0:e>1&&(e=1)}return e}},{key:"update",value:function(t){if(!this._started)return!1;if(this._running||(t=0),this._timeSinceLoopStart+=t,this._timeSinceLoopStart>=this._duration){var n=Math.floor(this._timeSinceLoopStart/this._duration);this._timeSinceLoopStart%=this._duration,this._repeatCount!==e.INFINITE&&n>this._repeatCount-this._loopsDone&&(n=this._repeatCount-this._loopsDone);for(var i=1;n>=i;i++)this._loopsDone++,this._reverseLoop=this._repeatBehavior===e.RepeatBehavior.REVERSE&&this._loopsDone%2===1,this._onLoopEnd(this._loopsDone);if(this._repeatCount!==e.INFINITE&&this._loopsDone===this._repeatCount)return this._onAnimationEnd(),this.stop(),!1}var o=this._timeSinceLoopStart/this._duration;return this._reverseLoop&&(o=1-o),o=this._timingEventPreprocessor(o),this._onUpdate(o,this._loopsDone),o}},{key:"_onUpdate",value:function(e,t){}},{key:"_onLoopEnd",value:function(e){}},{key:"_onAnimationEnd",value:function(){}},{key:"_throwIfStarted",value:function(){if(this._started)throw Error("Cannot change property on the started animator")}}]),e}();t["default"]=o,o.INFINITE=-1,o.RepeatBehavior={LOOP:1,REVERSE:2},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),s=i(a),u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?.5:arguments[0];o(this,e),this._allDirtyThreshold=t,this._viewport=new s["default"](0,0,100,100),this._dirtyRect=null,this._allDirty=!0,this.markAllDirty()}return r(e,[{key:"clear",value:function(){this._dirtyRect=null,this._allDirty=!1}},{key:"markDirty",value:function(e){!e.width&&!e.height||this._allDirty||(e=this._viewport.intersection(e),e&&(this._dirtyRect?(this._dirtyRect=this._dirtyRect.convexHull(e),this._dirtyRect.width*this._dirtyRect.height>this._allDirtyThreshold*this._viewport.width*this._viewport.height&&this.markAllDirty()):this._dirtyRect=this._viewport.intersection(e)))}},{key:"markAllDirty",value:function(){this._allDirty=!0,this._dirtyRect=this._viewport.copy()}},{key:"isClean",value:function(){return!this._dirtyRect}},{key:"isAllDirty",value:function(){return this._allDirty}},{key:"getDirtyRect",value:function(){return this._dirtyRect}},{key:"setViewport",value:function(e,t){this._viewport.width===e&&this._viewport.height===t||(this._viewport.width=e,this._viewport.height=t,this.markAllDirty())}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i,o,r){n(this,e),this.x=t,this.y=i,this.width=o,this.height=r}return i(e,[{key:"copy",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}},{key:"toString",value:function(){return"[x="+this.x+", y="+this.y+","+("width="+this.width+", height="+this.height+"]")}},{key:"intersects",value:function(e,t,n,i){if(1===arguments.length){var o=e;e=o.x,t=o.y,n=o.width,i=o.height}return this.x<=e+n&&this.x+this.width>=e&&this.y<=t+i&&this.y+this.height>=t}},{key:"covers",value:function(e,t,n,i){if(1===arguments.length){var o=e;e=o.x,t=o.y,n=o.width,i=o.height}return e>=this.x&&t>=this.y&&e+n<=this.x+this.width&&t+i<=this.y+this.height}},{key:"convexHull",value:function(t,n,i,o){if(1===arguments.length){var r=t;t=r.x,n=r.y,i=r.width,o=r.height}var a=Math.min(this.x,t),s=Math.min(this.y,n),u=Math.max(this.x+this.width,t+i)-a,h=Math.max(this.y+this.height,n+o)-s;return new e(a,s,u,h)}},{key:"intersection",value:function(t,n,i,o){if(1===arguments.length){var r=t;t=r.x,n=r.y,i=r.width,o=r.height}var a=Math.max(this.x,t),s=Math.max(this.y,n),u=Math.min(this.x+this.width,t+i)-a,h=Math.min(this.y+this.height,n+o)-s;return 0>=u||0>=h?null:new e(a,s,u,h)}},{key:"containsPoint",value:function(e,t){return e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}},{key:"getOverlappingGridCells",value:function(t,n,i,o){var r=Math.max(0,Math.floor(this.x/t)),a=Math.max(0,Math.floor(this.y/n)),s=Math.min(i-r,Math.floor((this.x+this.width)/t)-r+1),u=Math.min(o-a,Math.floor((this.y+this.height)/n)-a+1);return new e(r,a,s,u)}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(5),s=i(a),u=n(7),h=i(u),l=n(9),c=i(l),f=n(2),_=i(f),v=n(10),d=i(v),p=n(11),y=function(){function e(t,n,i){o(this,e),this._canvas=document.getElementById(t),this._ctx=this._canvas.getContext("2d"),this._scenes={},this._currentScene=null,this._lastTick=Date.now(),this._input=(0,p.isTouchDevice)()?h["default"]:c["default"],this._keyboard=new s["default"](this._canvas),this._dirtyRects=new _["default"],this._dirtyRects.setViewport(n,i),this._resourceManager=new d["default"],this._tick=this._tick.bind(this),this._gameContext={resourceManager:this._resourceManager,width:this._canvas.width,height:this._canvas.height}}return r(e,[{key:"loadResources",value:function(e,t){this._resourceManager.load(e,t,function(){})}},{key:"getResource",value:function(e){return this._resourceManager.get(e)}},{key:"scene",value:function(e,t){void 0===t?this._useScene(e):(t.init(this._gameContext),this._scenes[e]=t,this._currentScene||this._useScene(e))}},{key:"start",value:function(){this._lastTick=Date.now(),this._tick()}},{key:"_tick",value:function(){requestAnimationFrame(this._tick);var e=Date.now()-this._lastTick;this._lastTick=Date.now();var t={dt:e,input:this._input,keyboard:this._keyboard,graphContext:this._ctx,width:this._canvas.width,height:this._canvas.height,dirtyRects:this._dirtyRects};this._currentScene&&(this._update(t),this._dirtyRects.isClean()||this._draw(t),this._keyboard.resetPressed())}},{key:"_update",value:function(e){this._currentScene.update(e)}},{key:"_draw",value:function(e){var t=this._dirtyRects.getDirtyRect();this._ctx.save(),this._ctx.beginPath(),this._ctx.rect(t.x,t.y,t.width,t.height),this._ctx.clip(),this._currentScene.draw(e),this._dirtyRects.clear(),this._ctx.restore()}},{key:"_useScene",value:function(e){this._currentScene=this._scenes[e],this._dirtyRects.markAllDirty()}}]),e}();t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(6),h=i(u),l=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this));return n._element=null,n._stopDomEvents=!0,n._keys=[],n._pressed=[],n._onKeyDown=n._onKeyDown.bind(n),n._onKeyUp=n._onKeyUp.bind(n),n.attachTo(e),n}return a(t,e),s(t,[{key:"detach",value:function(){this._element&&(this._detachDomListeners(),this._element=null)}},{key:"attachTo",value:function(e){this._element&&this._detachDomListeners(),this._element=e,e&&this._attachDomListeners(),e.focus()}},{key:"getStopDomEvents",value:function(){return this._stopDomEvents}},{key:"setStopDomEvents",value:function(e){this._stopDomEvents=e}},{key:"isDown",value:function(e){return this._keys[e]}},{key:"isPressed",value:function(e){return this._pressed[e]}},{key:"resetPressed",value:function(){this._pressed=[]}},{key:"_stopEventIfRequired",value:function(e){this._stopDomEvents&&(e.stopPropagation(),e.preventDefault())}},{key:"_onKeyDown",value:function(e){this._pressed[e.keyCode]=!this.isDown(e.keyCode),this._keys[e.keyCode]=!0,this._stopEventIfRequired(e)}},{key:"_onKeyUp",value:function(e){this._keys[e.keyCode]=!1,this._pressed[e.keyCode]=!1,this._stopEventIfRequired(e)}},{key:"_attachDomListeners",value:function(){var e=this._element;e.addEventListener("keydown",this._onKeyDown,!1),e.addEventListener("keyup",this._onKeyUp,!1)}},{key:"_detachDomListeners",value:function(){var e=this._element;e.removeEventListener("keydown",this._onKeyDown,!1),e.removeEventListener("keyup",this._onKeyUp,!1)}}]),t}(h["default"]);t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e),this._listeners={}}return i(e,[{key:"addListener",value:function(e,t){if("function"!=typeof t)throw Error("Listener must be a function");this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}},{key:"removeListener",value:function(e,t){if("function"!=typeof t)throw Error("Listener must be a function");if(this._listeners[e]){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}}},{key:"removeAllListeners",value:function(e){e?this._listeners[e]=[]:this._listeners={}}},{key:"emit",value:function(e,t){if(this._listeners[e]&&this._listeners[e].length)for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)}}]),e}();t["default"]=o,o.prototype.on=o.prototype.addListener,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function f(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},h=n(8),l=i(h),c=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this,e));return n._isDown=!1,n._lastInteractionCoordinates={x:0,y:0},n._onDownDomEvent=n._onDownDomEvent.bind(n),n._onUpDomEvent=n._onUpDomEvent.bind(n),n._onMoveDomEvent=n._onMoveDomEvent.bind(n),n.attachTo(e),n}return a(t,e),s(t,[{key:"isDown",value:function(){return this._isDown}},{key:"getCoordinates",value:function(){return this._lastInteractionCoordinates}},{key:"_attachDomListeners",value:function(){var e=this._element;e.addEventListener("touchstart",this._onDownDomEvent,!1),e.addEventListener("touchend",this._onUpDomEvent,!1),e.addEventListener("touchcancel",this._onUpDomEvent,!1),e.addEventListener("touchmove",this._onMoveDomEvent,!1)}},{key:"_detachDomListeners",value:function(){var e=this._element;e.removeEventListener("touchstart",this._onDownDomEvent,!1),e.removeEventListener("touchend",this._onUpDomEvent,!1),e.removeEventListener("touchcancel",this._onUpDomEvent,!1),e.removeEventListener("touchmove",this._onMoveDomEvent,!1)}},{key:"_onDownDomEvent",value:function(e){this._lastInteractionCoordinates=this._getInputCoordinates(e),this._isDown=!0,u(Object.getPrototypeOf(t.prototype),"_onDownDomEvent",this).call(this,e)}},{key:"_onUpDomEvent",value:function(e){this.emit("up",{x:this._lastInteractionCoordinates.x,y:this._lastInteractionCoordinates.y,moved:this._moving,domEvent:e}),this._stopEventIfRequired(e),this._isDown=!1,this._moving=!1}},{key:"_onMoveDomEvent",value:function(e){this._lastInteractionCoordinates=this._getInputCoordinates(e),u(Object.getPrototypeOf(t.prototype),"_onMoveDomEvent",this).call(this,e)}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(6),h=i(u),l=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this));return n._element=null,n._moving=!1,n._lastMoveCoordinates=null,n._moveThreshold=10,n._stopDomEvents=!1,n}return a(t,e),s(t,[{key:"detach",value:function(){this._element&&(this._detachDomListeners(),this._element=null)}},{key:"attachTo",value:function(e){this._element&&this._detachDomListeners(),this._element=e,e&&this._attachDomListeners()}},{key:"getMoveThreshold",value:function(){return this._moveThreshold}},{key:"setMoveThreshold",value:function(e){this._moveThreshold=e}},{key:"getStopDomEvents",value:function(){return this._stopDomEvents}},{key:"setStopDomEvents",value:function(e){this._stopDomEvents=e}},{key:"_onDownDomEvent",value:function(e){var t=this._lastMoveCoordinates=this._getInputCoordinates(e);this.emit("down",{x:t.x,y:t.y,domEvent:e}),this._stopEventIfRequired(e)}},{key:"_onUpDomEvent",value:function(e){var t=this._getInputCoordinates(e);this.emit("up",{x:t.x,y:t.y,moved:this._moving,domEvent:e}),this._stopEventIfRequired(e),this._moving=!1}},{key:"_onMoveDomEvent",value:function(e){var t=this._getInputCoordinates(e),n=t.x-this._lastMoveCoordinates.x,i=t.y-this._lastMoveCoordinates.y,o=Math.sqrt(n*n+i*i);!this._moving&&o>this._moveThreshold&&(this._moving=!0),this._moving&&(this.emit("move",{x:t.x,y:t.y,deltaX:n,deltaY:i,domEvent:e}),this._lastMoveCoordinates=t),this._stopEventIfRequired(e)}},{key:"_stopEventIfRequired",value:function(e){this._stopDomEvents&&(e.stopPropagation(),e.preventDefault())}},{key:"_getInputCoordinates",value:function(e){var t=this._element,n=e.targetTouches?e.targetTouches[0]:e,i=(n.pageX||n.clientX+document.body.scrollLeft)-t.offsetLeft,o=(n.pageY||n.clientY+document.body.scrollTop)-t.offsetTop;return{x:i,y:o}}}]),t}(h["default"]);t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function f(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},h=n(8),l=i(h),c=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this,e));return n._mouseDown=!1,n._onDownDomEvent=n._onDownDomEvent.bind(n),n._onUpDomEvent=n._onUpDomEvent.bind(n),n._onMoveDomEvent=n._onMoveDomEvent.bind(n),n._onMouseOut=n._onMouseOut.bind(n),n._onHoverDomEvent=n._onHoverDomEvent.bind(n),n._coords={x:-1,y:-1},n.attachTo(e),n}return a(t,e),s(t,[{key:"isDown",value:function(){return this._mouseDown}},{key:"getCoordinates",value:function(){return this._coords}},{key:"_attachDomListeners",value:function(){var e=this._element;e.addEventListener("mousedown",this._onDownDomEvent,!1),e.addEventListener("mouseup",this._onUpDomEvent,!1),e.addEventListener("mousemove",this._onMoveDomEvent,!1),e.addEventListener("mouseout",this._onMouseOut,!1)}},{key:"_detachDomListeners",value:function(){var e=this._element;e.removeEventListener("mousedown",this._onDownDomEvent,!1),e.removeEventListener("mouseup",this._onUpDomEvent,!1),e.removeEventListener("mousemove",this._onMoveDomEvent,!1),e.removeEventListener("mouseout",this._onMouseOut,!1)}},{key:"_onDownDomEvent",value:function(e){this._mouseDown=!0,u(Object.getPrototypeOf(t.prototype),"_onDownDomEvent",this).call(this,e)}},{key:"_onUpDomEvent",value:function(e){this._mouseDown=!1,l["default"].prototype._onUpDomEvent.call(this,e)}},{key:"_onMoveDomEvent",value:function(e){this._mouseDown?u(Object.getPrototypeOf(t.prototype),"_onMoveDomEvent",this).call(this,e):this._onHoverDomEvent(e)}},{key:"_onHoverDomEvent",value:function(e){var t=this._coords=this._getInputCoordinates(e);this.emit("hover",{x:t.x,y:t.y,domEvent:e}),this._stopEventIfRequired(e)}},{key:"_onMouseOut",value:function(){this._mouseDown=!1}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e),this._imageQueue=[],this._images={}}return i(e,[{key:"_addImage",value:function(e,t){this._imageQueue.push({key:e,path:t})}},{key:"load",value:function(e,t,n){var i=function(){},o=this._imageQueue;for(var r in e)this._addImage(r,e[r]);if(t=t||i,n=n||i,this._imageQueue=[],0===o.length)return void n(0,0,null,null,!0);for(var a={loaded:0,total:o.length},s=0;s<o.length;s++)this._loadItem(o[s],a,t,n)}},{key:"_loadItem",value:function(e,t,n,i){var o=this,r=new Image;r.onload=function(){o._images[e.key]=r,o._onItemLoaded(e,t,n,i,!0)},r.onerror=function(){o._images[e.key]=o._placeholder,o._onItemLoaded(e,t,n,i,!1)},r.src=e.path}},{key:"_onItemLoaded",value:function(e,t,n,i,o){t.loaded++,i(t.loaded,t.total,e.key,e.path,o),t.loaded===t.total&&n()}},{key:"get",value:function(e){return this._images[e]}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(){return"ontouchstart"in document.documentElement}function i(e,t,n,i){return Math.sqrt((e-n)*(e-n)+(t-i)*(t-i))}Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=n,t.dist=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e),this._x=0,this._y=0,this._width=0,this._height=0,this._id=e.uid++,this._name="object_"+this._id,this._anchorX=0,this._anchorY=0,this._rot=0,this._scene=null,this._parent=null,this._children=[]}return i(e,[{key:"update",value:function(e){this._children.forEach(function(t){return t.update(e)})}},{key:"draw",value:function(e){this._children.forEach(function(t){return t.draw(e)})}},{key:"addChild",value:function(e){this._children.push(e),e.setParent(this)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return t>-1?(e.setParent(null),this._children.splice(t,1)):void 0}},{key:"getChildren",value:function(){return this._children}},{key:"setParent",value:function(e){this._parent=e}},{key:"setScene",value:function(e){this._scene=e}},{key:"getScene",value:function(){return this._scene}},{key:"getParent",value:function(){return this._parent}},{key:"getId",value:function(){return this._id}},{key:"getName",value:function(){return this._name}},{key:"setName",value:function(){return this._name}},{key:"setPos",value:function(e,t){this._x=e,this._y=t}},{key:"setSize",value:function(e,t){this._width=e,this._height=t}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"move",value:function(e,t){this._x+=e,this._y+=t}},{key:"getPos",value:function(){return{x:this._x,y:this._y}}},{key:"getTop",value:function(){return this._y}},{key:"getBottom",value:function(){return this._y+this._height}},{key:"getLeft",value:function(){return this._x}},{key:"getRight",value:function(){return this._x+this._width}},{key:"detach",value:function(){this._parent&&this._parent.removeChild(this)}}]),e}();t["default"]=o,o.uid=1,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function f(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},h=n(12),l=i(h),c=function(e){function t(){o(this,t);var e=r(this,Object.getPrototypeOf(t).call(this));return e._gameContext=null,e}return a(t,e),s(t,[{key:"init",value:function(e){this._gameContext=e}},{key:"addChild",value:function(e){u(Object.getPrototypeOf(t.prototype),"addChild",this).call(this,e)}},{key:"registerObject",value:function(e){}},{key:"deregisterObject",value:function(e){}},{key:"getResource",value:function(e){return this._gameContext.resourceManager.get(e)}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=i(o),a={};a.getBoundingRectangle=function(e){for(var t=Number.MAX_VALUE,n=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,a=0;a<e.length;a++){var s=e[a][0],u=e[a][1];t>s&&(t=s),s>i&&(i=s),n>u&&(n=u),u>o&&(o=u)}var h=.05*Math.max(i-t,o-n);return t-=h,i+=h,n-=h,o+=h,new r["default"](t,n,i-t,o-n)},a.linesIntersect=function(e,t,n,i,o,r,a,s){var u=void 0,h=void 0,l=void 0,c=void 0;u=n-e,h=i-t,l=a-o,c=s-r;var f=void 0,_=void 0;return f=(-h*(e-o)+u*(t-r))/(-l*h+u*c),_=(l*(t-r)-c*(e-o))/(-l*h+u*c),f>=0&&1>=f&&_>=0&&1>=_?[e+_*u,t+_*h]:null},a.sign=function(e){return e>0?1:0===e?0:-1},a.pointInsidePolygon=function(e,t,n,i,o){if(void 0===i||void 0===o){var r=a.getBoundingRectangle(n);i=r.x+r.width,o=t}for(var s=0,u=0;u<n.length;u++){var h=n[u][0],l=n[u][1],c=u+1===n.length?n[0][0]:n[u+1][0],f=u+1===n.length?n[0][1]:n[u+1][1];a.linesIntersect(e,t,i,o,h,l,c,f)&&s++}return s%2===1},a.segmentIntersectsPolygon=function(e,t,n,i,o){for(var r=0;r<o.length;r++){var s=o[r][0],u=o[r][1],h=r+1===o.length?o[0][0]:o[r+1][0],l=r+1===o.length?o[0][1]:o[r+1][1];if(a.linesIntersect(e,t,n,i,s,u,h,l))return!0}return!1},a.distance=function(e,t,n,i){return Math.sqrt((e-n)*(e-n)+(t-i)*(t-i))},a.distanceSquared=function(e,t,n,i){return(e-n)*(e-n)+(t-i)*(t-i)},a.distanceFromPointToSegment=function(e,t,n,i,o,r){var s=a.distanceSquared(n,i,o,r);if(0===s)return a.distance(e,t,n,i);var u=((e-n)*(o-n)+(t-i)*(r-i))/s;return 0>u?a.distance(e,t,n,i):u>1?a.distance(e,t,o,r):a.distance(e,t,n+u*(o-n),i+u*(r-i))},a.distanceFromPointToPolygon=function(e,t,n){for(var i=a.distanceFromPointToSegment(e,t,n[n.length-1][0],n[n.length-1][1],n[0][0],n[0][1]),o=1;o<n.length;o++){var r=a.distanceFromPointToSegment(e,t,n[o-1][0],n[o-1][1],n[o][0],n[o][1]);i>r&&(i=r)}return i},t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TileMapOrtho=t.TileSheet=t.SpriteSheet=t.Sprite=t.Shapes=t.Rectangle=void 0;var o=n(16),r=i(o),a=n(17),s=i(a),u=n(18),h=i(u),l=n(19),c=i(l),f=n(20),_=i(f),v=n(21),d=i(v);t.Rectangle=r["default"],t.Shapes=s["default"],t.Sprite=h["default"],t.SpriteSheet=c["default"],t.TileSheet=_["default"],t.TileMapOrtho=d["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(12),h=i(u),l=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),s(t,[{key:"draw",value:function(e){var t=e.graphContext;t.fillStyle="green",t.fillRect(this._x,this._y,10,10)}}]),t}(h["default"]);t["default"]=l,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.drawMarker=function(e,t,n,i,o,r){i=i||10,o=o||5,r=r||"blue",e.save(),e.strokeStyle=r,e.lineWidth=5,e.beginPath(),e.moveTo(t-i,n+i),e.lineTo(t+i,n-i),e.moveTo(t-i,n-i),e.lineTo(t+i,n+i),e.stroke(),e.restore()},n.drawArrow1=function(e,t,n,i,o,r,a,s){i=i||50,o=o||15,r=r||10,a=a||5,s=s||0,e.save(),e.fillStyle="green",e.beginPath(),s&&(e.translate(t,n),e.rotate(s),e.translate(-t,-n)),e.moveTo(t+o,n),e.lineTo(t+o-a,n-r),e.lineTo(t+o+i,n),e.lineTo(t+o-a,n+r),e.closePath(),e.fill(),e.restore()},n.drawPolygon=function(e,t){e.save(),e.strokeStyle="lightblue",e.fillStyle="rgba(173, 216, 230, 1)",e.lineWidth=5,e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(var n=1;n<t.length;n++)e.lineTo(t[n][0],t[n][1]);e.closePath(),e.fill(),e.stroke(),e.restore()},n.fillPolygon=function(e,t){e.save(),e.strokeStyle="grey",e.lineWidth=1;for(var n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,r=Number.MIN_VALUE,a=Math.PI/4,s=0;s<t.length;s++)t[s][0]<n&&(n=t[s][0]),t[s][1]<i&&(i=t[s][1]),t[s][0]>o&&(o=t[s][0]),t[s][1]>r&&(r=t[s][1]);e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(var u=1;u<t.length;u++)e.lineTo(t[u][0],t[u][1]);e.closePath(),e.clip();var h=(r-i)/Math.tan(a);e.beginPath();for(var l=n-h;o>l;l+=15)e.moveTo(l,r),e.lineTo(l+h,i);e.stroke(),e.restore()},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(12),h=i(u),l=n(3),c=i(l),f=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this));return n._img=e,n._width=e.width,n._height=e.height,n._isPressed=!1,n._clicked=!1,n}return a(t,e),s(t,[{key:"setSize",value:function(e,t){if(void 0===t){var n=e;e=this._img.width*n,t=this._img.height*n}this._width=e,this._height=t}},{key:"update",value:function(e){}},{key:"draw",value:function(e){var t=e.graphContext;t.save(),t.drawImage(this._img,0,0,this._img.width,this._img.height,this._x,this._y,this._width,this._height),t.restore()}},{key:"getBounds",value:function(){return new c["default"](this._x,this._y,this._width,this._height)}}]),t}(h["default"]);t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i){n(this,e),this._image=t,this._frames=i}return i(e,[{key:"drawFrame",value:function(t,n,i,o){var r=this._frames[n];r&&t.drawImage(this._image,r[e.FRAME_X],r[e.FRAME_Y],r[e.FRAME_WIDTH],r[e.FRAME_HEIGHT],i-r[e.FRAME_ANCHOR_X],o-r[e.FRAME_ANCHOR_Y],r[e.FRAME_WIDTH],r[e.FRAME_HEIGHT])}}]),e}();t["default"]=o,o.FRAME_X=0,o.FRAME_Y=1,o.FRAME_WIDTH=2,o.FRAME_HEIGHT=3,o.FRAME_ANCHOR_X=4,o.FRAME_ANCHOR_Y=5,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i,o){n(this,e),this._image=t,this._w=i,this._h=o,this._row=Math.floor(t.width/i)}return i(e,[{key:"drawTile",value:function(e,t,n,i){if(!(0>t)){var o=t%this._row*this._w,r=Math.floor(t/this._row)*this._h;e.drawImage(this._image,o,r,this._w,this._h,n,i,this._w,this._h)}}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(12),h=i(u),l=function(e){function t(e,n,i,a,s){o(this,t);var u=r(this,Object.getPrototypeOf(t).call(this));return u._mapData=e,u._image=n,u._tileSize=i,u._viewportWidth=a,u._viewportHeight=s,u._x=0,u._y=0,u._offCanvas=document.createElement("canvas"),u._offContext=u._offCanvas.getContext("2d"),u._offBounds={x:0,y:0,w:0,h:0},u._offDirty=!0,u._resetOffScreenCanvas(),u._tilesPerRow=n.width/i,u}return a(t,e),s(t,[{key:"draw",value:function(e){var t=e.graphContext;this._offDirty&&this._redrawOffscreen();var n=-Math.floor(this._x)-this._offBounds.x*this._tileSize,i=-Math.floor(this._y)-this._offBounds.y*this._tileSize,o=Math.min(this._offCanvas.width-n,this._viewportWidth),r=Math.min(this._offCanvas.height-i,this._viewportHeight);t.drawImage(this._offCanvas,n,i,o,r,0,0,o,r)}},{key:"move",value:function(e,t){this._x+=e,this._y+=t,this._updateOffscreenBounds()}},{key:"setViewportSize",value:function(e,t){this._viewportWidth=e,this._viewportHeight=t,this._resetOffScreenCanvas()}},{key:"_resetOffScreenCanvas",value:function(){this._updateOffscreenBounds(),this._offCanvas.width=this._offBounds.w*this._tileSize,this._offCanvas.height=this._offBounds.h*this._tileSize,this._offDirty=!0}},{key:"_redrawOffscreen",value:function(){var e=this._offContext;e.clearRect(0,0,this._offCanvas.width,this._offCanvas.height);for(var t=Math.max(this._offBounds.x,0),n=Math.min(t+this._offBounds.w-1,this._mapData[0].length-1),i=Math.max(this._offBounds.y,0),o=Math.min(i+this._offBounds.h-1,this._mapData.length-1),r=i;o>=r;r++)for(var a=t;n>=a;a++){var s=this._mapData[r][a];this._drawTileAt(e,s,a,r)}this._offDirty=!1}},{key:"_drawTileAt",value:function(e,t,n,i){var o=t%this._tilesPerRow*this._tileSize,r=Math.floor(t/this._tilesPerRow)*this._tileSize,a=this._tileSize,s=(n-this._offBounds.x)*a,u=(i-this._offBounds.y)*a;e.drawImage(this._image,o,r,a,a,s,u,a,a)}},{key:"_updateOffscreenBounds",value:function(){var e=this._offBounds,t={x:Math.floor(-this._x/this._tileSize),y:Math.floor(-this._y/this._tileSize),w:Math.ceil(this._viewportWidth/this._tileSize)+1,h:Math.ceil(this._viewportHeight/this._tileSize)+1};e.x===t.x&&e.y===t.y&&e.w===t.w&&e.h===t.h||(this._offBounds=t,this._offDirty=!0)}}]),t}(h["default"]);t["default"]=l,e.exports=t["default"]}])});
//# sourceMappingURL=draco.min.js.map